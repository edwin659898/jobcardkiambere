import{B as C}from"./Authenticated-6ca149e0.js";import{H as R,L as S,q as c,o,g as n,a as u,w as b,F as m,d as e,t as l,k as _,h as p,x as g,s as f,e as x,f as j,n as M}from"./app-c03fa087.js";import{P as U}from"./pagination-f8a4272c.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const B={components:{BreezeAuthenticatedLayout:C,Head:R,Link:S,Pagination:U},props:{Users:Object,success:String,filters:Object,CreatedRoles:Object},data(){return{search:this.$props.filters.search,isOpen:!1,form:this.$inertia.form({role:null})}},methods:{searchUser(){this.$inertia.get("/manage/user/roles",{search:this.search},{preserveState:!0,replace:!0})},openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1},createRole(){this.form.post("/create-role",{onSuccess:()=>form.reset("role"),onSuccess:()=>this.closeModal()})},destroyRole(i){confirm("Are you sure?")&&this.form.delete(`/destroy-role/${i}`,{onSuccess:()=>this.closeModal()})}}},O={class:"content-wrapper"},V={class:"content-header"},z={class:"container-fluid"},A={class:"row mb-2"},H={class:"col-sm-6"},N={class:"m-0"},D={class:"col-sm-6"},T={class:"breadcrumb float-sm-right"},E=e("li",{class:"breadcrumb-item"},"Home",-1),q={class:"breadcrumb-item active"},F={class:"content text-sm"},P={class:"container-fluid"},I={class:"row"},J={class:"col-lg-12 connectedSortable"},K={class:"py-6"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-4 bg-white border-b border-gray-200"},X={key:0,class:"p-4 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg",role:"alert"},Y={class:"flex justify-end mt-2"},Z={class:"card-header"},$=e("h3",{class:"card-title"},"Users",-1),ee={class:"card-tools"},se={class:"input-group input-group-sm",style:{width:"150px"}},te={class:"card-body table-responsive p-0"},oe={class:"table table-hover text-nowrap"},ne=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Job Title"),e("th",null,"Department"),e("th",null,"Site"),e("th",null,"Roles"),e("th",null,"Action")])],-1),le=e("i",{class:"fas fa-edit text-blue-500 hover:text-blue-700 cursor-pointer"},null,-1),re={key:0,class:"fixed z-0 inset-0 overflow-y-auto ease-out duration-400 text-xs"},ie={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},de=e("div",{class:"fixed inset-0 transition-opacity"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),ae=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1),ce={class:"inline-block align-center bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},ue={class:"bg-white px-4 pt-5 pb-2 sm:p-2 sm:pb-2"},me=e("div",{class:"card-header"},[e("h4",{class:"card-title"},"Roles")],-1),he={class:"card-body"},_e={class:"pt-3"},fe=e("label",{class:"block mb-2 text-sm font-medium"},"Role Name",-1),be={key:0,class:"text-xs text-red-600 mt-1"},pe={class:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ge={class:"mt-1 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto ml-2"},xe=["disabled"],ve={class:"mt-1 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},ye={class:"mt-2"},we=["onClick"];function ke(i,t,d,Ce,r,a){const v=c("Head"),y=c("Link"),w=c("pagination"),k=c("BreezeAuthenticatedLayout");return o(),n(m,null,[u(v,{title:"Roles Management"}),u(k,null,{default:b(()=>[e("div",O,[e("div",V,[e("div",z,[e("div",A,[e("div",H,[e("h1",N,l(i.route().current()),1)]),e("div",D,[e("ol",T,[E,e("li",q,l(i.route().current()),1)])])])])]),e("section",F,[e("div",P,[e("div",I,[e("section",J,[e("div",K,[e("div",G,[e("div",Q,[e("div",W,[d.success?(o(),n("div",X,l(d.success),1)):_("",!0),e("div",Y,[e("button",{onClick:t[0]||(t[0]=s=>a.openModal()),class:"inline-flex justify-center rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Edit Roles")]),e("div",Z,[$,e("div",ee,[e("div",se,[p(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>r.search=s),onKeyup:t[2]||(t[2]=s=>a.searchUser()),class:"border-gray-200 focus:border-green-300 focus:ring-0 form-control float-right",placeholder:"Search..."},null,544),[[g,r.search]])])])]),e("div",te,[e("table",oe,[ne,(o(!0),n(m,null,f(d.Users.data,s=>(o(),n("tbody",{key:s.id},[e("tr",null,[e("td",null,l(s.id),1),e("td",null,l(s.name),1),e("td",null,l(s.department),1),e("td",null,l(s.site),1),e("td",null,[(o(!0),n(m,null,f(s.roles,h=>(o(),n("li",{key:h.id},l(h.role),1))),128))]),e("td",null,[u(y,{href:i.route("Edit.user.roles",s.id)},{default:b(()=>[le]),_:2},1032,["href"])])])]))),128))])]),u(w,{class:"mt-6",links:d.Users.links},null,8,["links"])])])])])])])])])]),r.isOpen?(o(),n("div",re,[e("div",ie,[de,ae,x("â€‹ "),e("div",ce,[e("form",{onSubmit:t[5]||(t[5]=j(s=>a.createRole(),["prevent"]))},[e("div",ue,[me,e("div",he,[e("div",_e,[fe,p(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>r.form.role=s),class:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Role in Caps",required:""},null,512),[[g,r.form.role]])]),r.form.errors.role?(o(),n("div",be,l(r.form.errors.role),1)):_("",!0),e("div",pe,[e("span",ge,[e("button",{type:"submit",class:M(["inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",{"opacity-25":r.form.processing}]),disabled:r.form.processing}," Save ",10,xe)]),e("span",ve,[e("button",{onClick:t[4]||(t[4]=s=>a.closeModal()),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Cancel ")])]),e("div",ye,[(o(!0),n(m,null,f(d.CreatedRoles,s=>(o(),n("div",{key:s.id,class:"flex justify-between external-event bg-primary"},[x(l(s.role)+" ",1),e("i",{onClick:h=>a.destroyRole(s.id),class:"fas fa-trash cursor-pointer text-red-500 hover:text-red-800"},null,8,we)]))),128))])])])],32)])])])):_("",!0)]),_:1})],64)}const Ue=L(B,[["render",ke]]);export{Ue as default};
