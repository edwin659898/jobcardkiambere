import{B as S}from"./Authenticated-b2c6d4a9.js";import{H as q,L as V,U as y,q as b,o as i,g as l,a as g,w as j,F as m,d as t,t as s,k as d,f as h,h as c,x as _,V as x,s as f,n as B}from"./app-59fb61c6.js";import{_ as D}from"./Record-30107ea8.js";import{Z as U}from"./main-0b7572b6.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const M={components:{BreezeAuthenticatedLayout:S,Head:q,Link:V,Datepicker:U,Record:D},props:{Jobcard:Object,success:String,BeginDate:String,Name:String,BedPrepActivities:Object},data(){return{form:this.$inertia.form({start_date:this.$props.BeginDate,soil:"Soil",soil_uom:"",soil_quantity:"",top_soil:"Top Soil",top_soil_uom:"",top_soil_quantity:""})}},methods:{update(n){this.form.patch(`/potting/transportation/${n}`,{onSuccess:()=>{this.form.soil_uom="",this.form.soil_quantity="",this.form.top_soil_uom="",this.form.top_soil_quantity=""},preserveScroll:!0})},complete(n){y.Inertia.get(route("complete.labelling",n))},destroy(n){confirm("Are you sure you want to remove")&&y.Inertia.delete(route("destroy.compartment",n))},format_date(n){if(n)return moment(String(n)).format("DD-MM-YYYY")}}},C={class:"content-wrapper"},J=t("div",{class:"content-header"},[t("div",{class:"container-fluid"},[t("div",{class:"row mb-2"},[t("div",{class:"col-sm-6"},[t("h1",{class:"m-0"}," Job Card for Mukau Production ")]),t("div",{class:"col-sm-6"},[t("ol",{class:"breadcrumb float-sm-right"},[t("li",{class:"breadcrumb-item"},"Home"),t("li",{class:"breadcrumb-item active"},"job-card ")])])])])],-1),L={class:"content"},O={class:"container-fluid text-sm"},T={class:"row"},H={class:"col-lg-12 connectedSortable"},N={class:"py-6"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-4 bg-white border-b border-gray-200"},F={class:"card-header flex justify-between"},I=t("h3",{class:"card-title"},"Job Card Review",-1),Q={class:"card-body"},R={key:0,class:"p-2 mb-1 text-sm text-blue-700 bg-blue-100 rounded-lg",role:"alert"},Z={class:"col-sm-12 pt-8"},E={class:"form-group"},G={key:0,class:"text-xs text-red-600 mt-2"},K={class:"form-group flex items-center justify-between space-x-2"},W={class:"w-full"},X={key:0,class:"text-xs text-red-600 mt-2"},$={class:"w-full"},tt=["value"],et={key:0,class:"text-xs text-red-600 mt-2"},ot={class:"w-full"},st={key:0,class:"text-xs text-red-600 mt-2"},rt={class:"form-group flex items-center justify-between space-x-2"},it={class:"w-full"},lt={key:0,class:"text-xs text-red-600 mt-2"},nt={class:"w-full"},dt=["value"],ut={key:0,class:"text-xs text-red-600 mt-2"},at={class:"w-full"},ct={key:0,class:"text-xs text-red-600 mt-2"},mt={class:"flex justify-end"},_t=["disabled"],ft={class:"table-responsive"},pt={class:"table table-hover text-nowrap mt-6"},bt=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Soil Quantity"),t("th",null,"Soil UOM"),t("th",null,"Top Soil Quantity"),t("th",null,"Top Soil UOM"),t("th",null,"Date")])],-1),gt={class:"flex flex-col justify-between pt-12"},yt={class:"flex justify-center"},ht={class:"block bg-white max-w-sm text-center"},xt=t("div",{class:"py-2 px-6 border-b border-gray-300"}," Signature ",-1),vt={class:"p-6"},wt=t("p",{class:"text-gray-700 text-xs mb-4"}," Activity Owner ",-1),kt={class:"mt-2 text-sm font-bold"},St={class:"flex justify-end mt-4"};function qt(n,r,u,Vt,e,p){const v=b("Head"),w=b("Datepicker"),k=b("BreezeAuthenticatedLayout");return i(),l(m,null,[g(v,{title:"Operational Planning"}),g(k,null,{default:j(()=>[t("div",C,[J,t("section",L,[t("div",O,[t("div",T,[t("section",H,[t("div",N,[t("div",P,[t("div",z,[t("div",Y,[t("div",F,[I,t("p",null,"Site: "+s(u.Jobcard.site),1)]),t("div",Q,[u.success?(i(),l("div",R,s(u.success),1)):d("",!0),t("form",{onSubmit:r[8]||(r[8]=h(o=>p.update(u.Jobcard.id),["prevent"]))},[t("div",Z,[t("div",E,[t("label",null,s(n.$page.props.ActivityTitle),1),g(w,{modelValue:e.form.start_date,"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.start_date=o),position:"left",altPosition:""},null,8,["modelValue"]),e.form.errors.start_date?(i(),l("p",G,s(e.form.errors.start_date),1)):d("",!0)]),t("div",K,[t("div",W,[c(t("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=o=>e.form.soil=o),disabled:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[_,e.form.soil]]),e.form.errors.soil?(i(),l("p",X,s(e.form.errors.soil),1)):d("",!0)]),t("div",$,[c(t("select",{"onUpdate:modelValue":r[2]||(r[2]=o=>e.form.soil_uom=o),required:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(i(!0),l(m,null,f(n.$page.props.uom,(o,a)=>(i(),l("option",{key:a,value:o},s(o),9,tt))),128))],512),[[x,e.form.soil_uom]]),e.form.errors.soil_uom?(i(),l("p",et,s(e.form.errors.soil_uom),1)):d("",!0)]),t("div",ot,[c(t("input",{type:"number","onUpdate:modelValue":r[3]||(r[3]=o=>e.form.soil_quantity=o),step:".01",placeholder:"quantity",required:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[_,e.form.soil_quantity]]),e.form.errors.soil_quantity?(i(),l("p",st,s(e.form.errors.soil_quantity),1)):d("",!0)])]),t("div",rt,[t("div",it,[c(t("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=o=>e.form.top_soil=o),disabled:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[_,e.form.top_soil]]),e.form.errors.top_soil?(i(),l("p",lt,s(e.form.errors.top_soil),1)):d("",!0)]),t("div",nt,[c(t("select",{"onUpdate:modelValue":r[5]||(r[5]=o=>e.form.top_soil_uom=o),required:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(i(!0),l(m,null,f(n.$page.props.uom,(o,a)=>(i(),l("option",{key:a,value:o},s(o),9,dt))),128))],512),[[x,e.form.top_soil_uom]]),e.form.errors.top_soil_uom?(i(),l("p",ut,s(e.form.errors.top_soil_uom),1)):d("",!0)]),t("div",at,[c(t("input",{type:"number","onUpdate:modelValue":r[6]||(r[6]=o=>e.form.top_soil_quantity=o),step:".01",placeholder:"quantity",required:"",class:"w-full py-1 text-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[_,e.form.top_soil_quantity]]),e.form.errors.top_soil_quantity?(i(),l("p",ct,s(e.form.errors.top_soil_quantity),1)):d("",!0)])]),t("div",mt,[t("button",{class:B([{"opacity-25":e.form.processing},"inline-flex justify-center rounded-md border border-transparent px-3 py-1 bg-blue-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"]),disabled:e.form.processing}," Save ",10,_t)]),t("div",ft,[t("table",pt,[bt,t("tbody",null,[(i(!0),l(m,null,f(u.BedPrepActivities,(o,a)=>(i(),l("tr",{key:a},[t("td",null,s(a+1),1),t("td",null,s(o.soil_quantity),1),t("td",null,s(o.soil_uom),1),t("td",null,s(o.top_soil_quantity),1),t("td",null,s(o.top_soil_uom),1),t("td",null,s(p.format_date(o.date)),1)]))),128))])])]),t("div",gt,[t("div",yt,[t("div",ht,[xt,t("div",vt,[wt,(i(!0),l(m,null,f(u.Jobcard.childactivity.roles,o=>(i(),l("div",{key:o.id,class:"flex items-center space-x-1"},[t("p",kt,s(o.role),1)]))),128))])])])]),t("div",St,[t("button",{onClick:r[7]||(r[7]=h(o=>p.complete(u.Jobcard.id),["prevent"])),class:"inline-flex justify-center rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5"},"Sign and Save")])])],32)])])])])])])])])])])]),_:1})],64)}const Mt=A(M,[["render",qt]]);export{Mt as default};
