import{B as f}from"./Authenticated-6ca149e0.js";import{H as g,U as b,q as p,o as s,g as l,a as x,w,F as d,d as e,t as n,k as u,f as k,h as T,V as S,s as _,e as D}from"./app-c03fa087.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const E={components:{BreezeAuthenticatedLayout:f,Head:g},props:{success:String,ParentActivity:Object,Trees:Object,Tree:String,JobCard:Object},data(){return{tree:this.$props.Tree}},methods:{search(){b.Inertia.get(route("view.report",{id:this.$props.ParentActivity.id,item:this.$props.JobCard,Tree:this.tree},{preserveState:!0,replace:!0}))},ExcelExport(){b.Inertia.get(route("excel.export",{id:this.$props.ParentActivity.id,item:this.$props.JobCard,Tree:this.tree},{preserveState:!0,replace:!0}))},format_date(h){if(h)return moment(String(h)).format("DD-MM-YYYY, HH:mm")}}},A={class:"content-wrapper"},C=e("div",{class:"content-header"},[e("div",{class:"container-fluid"},[e("div",{class:"row mb-2"},[e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"}," Dashboard ")]),e("div",{class:"col-sm-6"},[e("ol",{class:"breadcrumb float-sm-right"},[e("li",{class:"breadcrumb-item"},"Home"),e("li",{class:"breadcrumb-item active"},"Dashboard")])])])])],-1),L={class:"content"},M={class:"container-fluid"},B={class:"row"},j={class:"col-lg-12 connectedSortable"},N={class:"py-6"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-4 bg-white border-b border-gray-200"},q={key:0,class:"p-2 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800",role:"alert"},z={class:"border-b px-4 py-3 flex justify-between"},F={class:"card-title"},J=e("option",{value:""},"-- Filter by Tree --",-1),O=["value"],K={class:"card-body"},P={key:0,class:"text-xs mt-1 text-blue-500"},Q={key:1,class:"text-xs mt-1 text-red-500"},U={key:0,class:"mt-1 px-3 py-2"},G={class:"table-responsive"},R={class:"table table-hover text-nowrap mt-6"},W=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Tree Number"),e("th",null,"Quantity (Kg)"),e("th",null,"Start time"),e("th",null,"End time")])],-1),X={key:1,class:"mt-1 px-3 py-2"},Z={class:"table-responsive"},$={class:"table table-hover text-nowrap mt-6"},ee=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Quantity (Kg)"),e("th",null,"uom"),e("th",null,"Start time"),e("th",null,"End time")])],-1),te={key:2,class:"flex justify-center"},se={class:"block bg-white text-center"},le={class:"p-6"},ne=e("p",{class:"text-gray-700 text-xs mb-2"}," Persons who signed ",-1),re={key:0,class:"flex justify-between items-center space-x-2"},oe=["innerHTML"],ae=["innerHTML"];function de(h,o,i,ie,m,a){const v=p("Head"),y=p("BreezeAuthenticatedLayout");return s(),l(d,null,[x(v,{title:"Dashboard"}),x(y,null,{default:w(()=>[e("div",A,[C,e("section",L,[e("div",M,[e("div",B,[e("section",j,[e("div",N,[e("div",V,[e("div",I,[e("div",Y,[i.success?(s(),l("div",q,n(i.success),1)):u("",!0),e("div",z,[e("h4",F,n(i.ParentActivity.parent_title),1),e("button",{onClick:o[0]||(o[0]=k(t=>a.ExcelExport(),["prevent"])),class:"btn btn-success mr-1 cursor-pointer"},"Export"),T(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>m.tree=t),onChange:o[2]||(o[2]=t=>a.search()),class:"form-control text-sm w-64"},[J,(s(!0),l(d,null,_(i.Trees,t=>(s(),l("option",{key:t.id,value:t.id},n(t.tree_number),9,O))),128))],544),[[S,m.tree]])]),e("div",K,[(s(!0),l(d,null,_(i.ParentActivity.childs,t=>(s(),l("div",{key:t.id,class:"block p-6 bg-white border border-gray-200 rounded-lg shadow mt-2"},[e("div",null,[D(n(t.child_title)+" ",1),t.timelines.length?(s(),l("span",P," Start Date: "+n(t.timelines[0].start_date)+" End Date: "+n(t.timelines[0].end_date),1)):(s(),l("span",Q," This activity has not been done yet "))]),t.stocks.length?(s(),l("div",U,[e("div",G,[e("table",R,[W,e("tbody",null,[(s(!0),l(d,null,_(t.stocks,(r,c)=>(s(),l("tr",{key:c},[e("td",null,n(c+1),1),e("td",null,n(r.fruit.tree.tree_number),1),e("td",null,n(r.quantity),1),e("td",null,n(a.format_date(r.created_at)),1),e("td",null,n(a.format_date(r.updated_at)),1)]))),128))])])])])):u("",!0),t.bed_preparation.length?(s(),l("div",X,[e("div",Z,[e("table",$,[ee,e("tbody",null,[(s(!0),l(d,null,_(t.bed_preparation,(r,c)=>(s(),l("tr",{key:c},[e("td",null,n(c+1),1),e("td",null,n(r.name),1),e("td",null,n(r.quantity),1),e("td",null,n(r.uom),1),e("td",null,n(a.format_date(r.created_at)),1),e("td",null,n(a.format_date(r.updated_at)),1)]))),128))])])])])):u("",!0),t.timelines.length?(s(),l("div",te,[e("div",se,[e("div",le,[ne,(s(!0),l(d,null,_(t.signatures,r=>(s(),l("div",{key:r.id},[t.id==r.child_activity_id?(s(),l("div",re,[e("label",{class:"mt-2.5 text-xs font-bold",innerHTML:r.role.role},null,8,oe),e("p",{class:"text-gray-400",innerHTML:r.user.name},null,8,ae)])):u("",!0)]))),128))])])])):u("",!0)]))),128))])])])])])])])])])])]),_:1})],64)}const he=H(E,[["render",de]]);export{he as default};
